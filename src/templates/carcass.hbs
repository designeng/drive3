<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">

    <head>
    <link href="http://gmpg.org/xfn/11" rel="profile">
    <meta http-equiv="content-type" content="text/html; charset=utf-8">

    <!-- Enable responsiveness on mobile devices-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

    <title></title>

    <!-- CSS -->
    <link rel="stylesheet" href="/assets/css/main.css">
    <link rel="stylesheet" href="/assets/css/fonts.css">

    <link rel="stylesheet" href="/assets/css/magnific-popup.css">
    <link rel="stylesheet" href="/assets/css/custom.css">

    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <script src="http://dimsemenov-static.s3.amazonaws.com/dist/jquery.magnific-popup.min.js"></script>
</head>

<body>
    {{{ body }}}

    <script type="text/javascript">
        (function() {
            var logo = $('.logo');
            var content = $('.content');
            var channelsMenu = $('.channels-menu');
            var channelsMenuToggler = $('.channels-menu-toggler');

            function closeMenu() {
                channelsMenu.toggleClass('opened');
                channelsMenuToggler.toggleClass('toggler-opened');
            }

            channelsMenuToggler.on('click', function(){
                closeMenu();
            });

            logo.on('click', function(){
                window.location = '/';
            });

            var zooms = $('a[data-id=zoom]');
            var zoomsLength = zooms.length;
            for (var i = zoomsLength - 1; i >= 0; i--) {
                $(zooms[i]).magnificPopup({
                    type:'image',
                    midClick: true,
                    zoom: {
                        enabled: true,
                        duration: 400,
                        easing: 'ease-in-out',
                        // TODO: find how to fix it. 
                        // Fisrt time element is clicked it's starting not from openerElement shape.
                        opener: function(openerElement) {
                            return openerElement;
                        }
                    }
                });
            };
        })()
        

        // $(document).mouseup(function(e){
        //     var container = channelsMenu;

        //     if (!container.is(e.target) && container.has(e.target).length === 0){
        //         closeMenu();
        //     }
        // });
    </script>
</body>
</html>
